{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime-corejs2/helpers/esm/slicedToArray\";\nimport React, { useState, useEffect } from 'react';\nimport { Search, Label, SearchResult, SearchResults } from 'semantic-ui-react';\nimport { getUsernames } from \"../actions\";\nimport { useDebounce } from \"../hooks/useDebounce\";\n\nvar resultRenderer = function resultRenderer(_ref) {\n  var uid = _ref.uid,\n      username = _ref.username;\n  return React.createElement(Label, {\n    key: uid,\n    content: username\n  });\n};\n\nvar renderer = function renderer(_ref2) {\n  var image = _ref2.image,\n      price = _ref2.price,\n      title = _ref2.title,\n      description = _ref2.description;\n  return [React.createElement(\"div\", {\n    key: \"content\",\n    className: \"content\"\n  }, \"HELLOOO\")];\n};\n\nvar SearchBar = function SearchBar(_ref3) {\n  var handleResultSelect = _ref3.handleResultSelect;\n\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      searchTerm = _useState2[0],\n      setSearchTerm = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      results = _useState4[0],\n      setResults = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      isSearching = _useState6[0],\n      setIsSearching = _useState6[1];\n\n  var debouncedSearchTerm = useDebounce(searchTerm, 200);\n\n  function fetch() {\n    return _fetch.apply(this, arguments);\n  }\n\n  function _fetch() {\n    _fetch = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      var response, formattedResults;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return getUsernames(debouncedSearchTerm);\n\n            case 2:\n              response = _context.sent;\n              formattedResults = response.map(function (result, index) {\n                result.key = index;\n                result.title = result.username;\n                return result;\n              });\n              setResults(formattedResults);\n              setIsSearching(false);\n\n            case 6:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n    return _fetch.apply(this, arguments);\n  }\n\n  useEffect(function () {\n    if (debouncedSearchTerm) {\n      setIsSearching(true);\n      fetch();\n    } else {\n      resetComponent();\n    }\n  }, [debouncedSearchTerm]);\n\n  var resetComponent = function resetComponent() {\n    setSearchTerm('');\n    setIsSearching(false);\n    setResults([]);\n  };\n\n  var onResultSelect = function onResultSelect(e, _ref4) {\n    var result = _ref4.result;\n    setSearchTerm(result.username);\n    handleResultSelect(result);\n    resetComponent();\n  };\n\n  var onSearchChange = function onSearchChange(e, _ref5) {\n    var value = _ref5.value;\n    if (!value.length) return resetComponent();\n    setIsSearching(true);\n    setSearchTerm(value);\n  };\n\n  return React.createElement(Search, {\n    input: {\n      fluid: true,\n      icon: 'arrow circle right'\n    },\n    loading: isSearching,\n    placeholder: 'Enter your Epic username',\n    onResultSelect: onResultSelect,\n    onSearchChange: onSearchChange,\n    results: results,\n    renderer: resultRenderer,\n    resultRenderer: resultRenderer,\n    value: searchTerm,\n    showNoResults: true\n  });\n};\n\nexport default SearchBar;","map":{"version":3,"sources":["/Users/kenny/Documents/GitHub/fortniteboards/src/components/SearchBar.js"],"names":["React","useState","useEffect","Search","Label","SearchResult","SearchResults","getUsernames","useDebounce","resultRenderer","uid","username","renderer","image","price","title","description","SearchBar","handleResultSelect","searchTerm","setSearchTerm","results","setResults","isSearching","setIsSearching","debouncedSearchTerm","fetch","response","formattedResults","map","result","index","key","resetComponent","onResultSelect","e","onSearchChange","value","length","fluid","icon"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Search, Label, SearchResult, SearchResults } from 'semantic-ui-react';\nimport { getUsernames } from '../actions';\n\nimport { useDebounce } from '../hooks/useDebounce';\n\nconst resultRenderer = ({ uid, username }) => <Label key={uid} content={username} />;\n\nconst renderer = ({ image, price, title, description }) => [\n    <div key=\"content\" className=\"content\">\n        HELLOOO\n    </div>\n];\n\nconst SearchBar = ({ handleResultSelect }) => {\n    const [searchTerm, setSearchTerm] = useState('');\n    const [results, setResults] = useState([]);\n    const [isSearching, setIsSearching] = useState(false);\n    const debouncedSearchTerm = useDebounce(searchTerm, 200);\n\n    async function fetch() {\n        const response = await getUsernames(debouncedSearchTerm);\n        const formattedResults = response.map((result, index) => {\n            result.key = index;\n            result.title = result.username;\n            return result;\n        });\n        setResults(formattedResults);\n        setIsSearching(false);\n    }\n\n    useEffect(() => {\n        if (debouncedSearchTerm) {\n            setIsSearching(true);\n            fetch();\n        } else {\n            resetComponent();\n        }\n    }, [debouncedSearchTerm]);\n\n    const resetComponent = () => {\n        setSearchTerm('');\n        setIsSearching(false);\n        setResults([]);\n    };\n\n    const onResultSelect = (e, { result }) => {\n        setSearchTerm(result.username);\n        handleResultSelect(result);\n        resetComponent();\n    };\n\n    const onSearchChange = (e, { value }) => {\n        if (!value.length) return resetComponent();\n        setIsSearching(true);\n        setSearchTerm(value);\n    };\n\n    return (\n        <Search\n            input={{ fluid: true, icon: 'arrow circle right' }}\n            loading={isSearching}\n            placeholder={'Enter your Epic username'}\n            onResultSelect={onResultSelect}\n            onSearchChange={onSearchChange}\n            results={results}\n            renderer={resultRenderer}\n            resultRenderer={resultRenderer}\n            value={searchTerm}\n            showNoResults={true}\n        />\n    );\n};\n\nexport default SearchBar;\n"]},"metadata":{},"sourceType":"module"}