{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport axios from 'axios';\nimport { FETCH_BY_PLAYERNAME_REQUESTED, FETCH_BY_PLAYERNAME_SUCCESS, FETCH_BY_PLAYERNAME_FAILURE } from \"./constants\";\nexport var fetchByUsername = function fetchByUsername(username, callback) {\n  return (\n    /*#__PURE__*/\n    function () {\n      var _ref = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(dispatch) {\n        var response;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                dispatch({\n                  type: FETCH_BY_PLAYERNAME_REQUESTED\n                });\n                _context.prev = 1;\n                _context.next = 4;\n                return axios.get(\"https://fortnite-public-api.theapinetwork.com/prod09/users/search\", {\n                  params: {\n                    username: username\n                  }\n                });\n\n              case 4:\n                response = _context.sent;\n                dispatch({\n                  type: FETCH_BY_PLAYERNAME_SUCCESS,\n                  payload: response.data.entries\n                });\n                _context.next = 11;\n                break;\n\n              case 8:\n                _context.prev = 8;\n                _context.t0 = _context[\"catch\"](1);\n                dispatch({\n                  type: FETCH_BY_PLAYERNAME_FAILURE,\n                  payload: _context.t0\n                });\n\n              case 11:\n                callback();\n\n              case 12:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[1, 8]]);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }()\n  );\n};\nexport var getUsers =\n/*#__PURE__*/\nfunction () {\n  var _ref2 = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee2(username, callback) {\n    var response;\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return axios.get(\"https://fortnite-public-api.theapinetwork.com/prod09/users/search\", {\n              params: {\n                username: username\n              }\n            });\n\n          case 2:\n            response = _context2.sent;\n            callback();\n            return _context2.abrupt(\"return\", response.data.entries);\n\n          case 5:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2, this);\n  }));\n\n  return function getUsers(_x2, _x3) {\n    return _ref2.apply(this, arguments);\n  };\n}();\nexport var getProfile =\n/*#__PURE__*/\nfunction () {\n  var _ref3 = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee3(username) {\n    var platform,\n        window,\n        response2,\n        response,\n        profile,\n        uid,\n        _args3 = arguments;\n    return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            platform = _args3.length > 1 && _args3[1] !== undefined ? _args3[1] : 'pc';\n            window = _args3.length > 2 && _args3[2] !== undefined ? _args3[2] : 'season7';\n            _context3.next = 4;\n            return axios.get('https://fortnite-public-api.theapinetwork.com/prod09/users/id?username=Ninja', {\n              params: {\n                username: username\n              }\n            });\n\n          case 4:\n            response2 = _context3.sent;\n            _context3.next = 7;\n            return axios.get(\"https://fortnite-public-api.theapinetwork.com/prod09/users/search\", {\n              params: {\n                username: username\n              }\n            });\n\n          case 7:\n            response = _context3.sent;\n            profile = response.data.entries.filter(function (profile) {\n              return profile.username === username;\n            });\n\n            if (profile.length) {\n              _context3.next = 11;\n              break;\n            }\n\n            return _context3.abrupt(\"return\", new Error());\n\n          case 11:\n            uid = profile[0].uid;\n            _context3.next = 14;\n            return axios.get(\"https://fortnite-public-api.theapinetwork.com/prod09/users/public/br_stats\", {\n              params: {\n                user_id: uid,\n                platform: platform,\n                window: window\n              }\n            });\n\n          case 14:\n            response = _context3.sent;\n            profile = response.data;\n            return _context3.abrupt(\"return\", profile);\n\n          case 17:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3, this);\n  }));\n\n  return function getProfile(_x4) {\n    return _ref3.apply(this, arguments);\n  };\n}();\nexport var getNews =\n/*#__PURE__*/\nfunction () {\n  var _ref4 = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee4() {\n    var language,\n        response,\n        _args4 = arguments;\n    return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            language = _args4.length > 0 && _args4[0] !== undefined ? _args4[0] : 'en';\n            _context4.next = 3;\n            return axios.get('https://fortnite-public-api.theapinetwork.com/prod09/br_motd/get', {\n              params: {\n                language: language\n              }\n            });\n\n          case 3:\n            response = _context4.sent;\n            return _context4.abrupt(\"return\", response.data);\n\n          case 5:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, _callee4, this);\n  }));\n\n  return function getNews() {\n    return _ref4.apply(this, arguments);\n  };\n}();","map":{"version":3,"sources":["/Users/kenny/Documents/GitHub/fortniteboards/src/actions/index.js"],"names":["axios","FETCH_BY_PLAYERNAME_REQUESTED","FETCH_BY_PLAYERNAME_SUCCESS","FETCH_BY_PLAYERNAME_FAILURE","fetchByUsername","username","callback","dispatch","type","get","params","response","payload","data","entries","getUsers","getProfile","platform","window","response2","profile","filter","length","Error","uid","user_id","getNews","language"],"mappings":"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","sourcesContent":["import axios from 'axios';\n\nimport {\n    FETCH_BY_PLAYERNAME_REQUESTED,\n    FETCH_BY_PLAYERNAME_SUCCESS,\n    FETCH_BY_PLAYERNAME_FAILURE\n} from './constants';\n\nexport const fetchByUsername = (username, callback) => {\n    return async dispatch => {\n        dispatch({ type: FETCH_BY_PLAYERNAME_REQUESTED });\n        try {\n            const response = await axios.get(\n                `https://fortnite-public-api.theapinetwork.com/prod09/users/search`,\n                { params: { username: username } }\n            );\n            dispatch({\n                type: FETCH_BY_PLAYERNAME_SUCCESS,\n                payload: response.data.entries\n            });\n        } catch (error) {\n            dispatch({\n                type: FETCH_BY_PLAYERNAME_FAILURE,\n                payload: error\n            });\n        }\n        callback();\n    };\n};\n\nexport const getUsers = async (username, callback) => {\n    const response = await axios.get(\n        `https://fortnite-public-api.theapinetwork.com/prod09/users/search`,\n        { params: { username: username } }\n    );\n    callback();\n    return response.data.entries;\n};\n\nexport const getProfile = async (username, platform = 'pc', window = 'season7') => {\n    let response2 = await axios.get(\n        'https://fortnite-public-api.theapinetwork.com/prod09/users/id?username=Ninja',\n        { params: { username: username } }\n    );\n    let response = await axios.get(\n        `https://fortnite-public-api.theapinetwork.com/prod09/users/search`,\n        { params: { username: username } }\n    );\n    let profile = response.data.entries.filter(profile => profile.username === username);\n\n    if (!profile.length) return new Error();\n\n    const { uid } = profile[0];\n    response = await axios.get(\n        `https://fortnite-public-api.theapinetwork.com/prod09/users/public/br_stats`,\n        {\n            params: {\n                user_id: uid,\n                platform: platform,\n                window: window\n            }\n        }\n    );\n    profile = response.data;\n\n    return profile;\n};\n\nexport const getNews = async (language = 'en') => {\n    let response = await axios.get(\n        'https://fortnite-public-api.theapinetwork.com/prod09/br_motd/get',\n        {\n            params: { language: language }\n        }\n    );\n\n    return response.data;\n};\n"]},"metadata":{},"sourceType":"module"}