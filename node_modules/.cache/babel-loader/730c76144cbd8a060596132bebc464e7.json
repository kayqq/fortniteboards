{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport axios from \"axios\";\nimport { FETCH_BY_PLAYERNAME_REQUESTED, FETCH_BY_PLAYERNAME_SUCCESS, FETCH_BY_PLAYERNAME_FAILURE } from \"./constants\";\nexport var fetchByUsername = function fetchByUsername(username, callback) {\n  return (\n    /*#__PURE__*/\n    function () {\n      var _ref = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(dispatch) {\n        var response;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                dispatch({\n                  type: FETCH_BY_PLAYERNAME_REQUESTED\n                });\n                _context.prev = 1;\n                _context.next = 4;\n                return axios.get(\"https://fortnite-public-api.theapinetwork.com/prod09/users/search?username=\".concat(username));\n\n              case 4:\n                response = _context.sent;\n                dispatch({\n                  type: FETCH_BY_PLAYERNAME_SUCCESS,\n                  payload: response.data.entries\n                });\n                _context.next = 11;\n                break;\n\n              case 8:\n                _context.prev = 8;\n                _context.t0 = _context[\"catch\"](1);\n                dispatch({\n                  type: FETCH_BY_PLAYERNAME_FAILURE,\n                  payload: _context.t0\n                });\n\n              case 11:\n                callback();\n\n              case 12:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[1, 8]]);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }()\n  );\n};\nexport var getProfile =\n/*#__PURE__*/\nfunction () {\n  var _ref2 = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee2(username) {\n    var platform,\n        window,\n        responseProfiles,\n        profile,\n        uid,\n        responseProfile,\n        _args2 = arguments;\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            platform = _args2.length > 1 && _args2[1] !== undefined ? _args2[1] : \"pc\";\n            window = _args2.length > 2 && _args2[2] !== undefined ? _args2[2] : \"season7\";\n            _context2.next = 4;\n            return axios.get(\"https://fortnite-public-api.theapinetwork.com/prod09/users/search?username=\".concat(username));\n\n          case 4:\n            responseProfiles = _context2.sent;\n            profile = responseProfiles.data.entries.filter(function (profile) {\n              return profile.username === username;\n            });\n\n            if (profile.length) {\n              _context2.next = 8;\n              break;\n            }\n\n            return _context2.abrupt(\"return\", new Error());\n\n          case 8:\n            uid = profile[0].uid;\n            _context2.next = 11;\n            return axios.get(\"https://fortnite-public-api.theapinetwork.com/prod09/users/public/br_stats?user_id=\".concat(uid, \"&platform=\").concat(platform, \"&window=\").concat(window));\n\n          case 11:\n            responseProfile = _context2.sent;\n            return _context2.abrupt(\"return\", responseProfile.data);\n\n          case 13:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2, this);\n  }));\n\n  return function getProfile(_x2) {\n    return _ref2.apply(this, arguments);\n  };\n}();","map":{"version":3,"sources":["/Users/kenny/Desktop/test nextjs 8/src/actions/index.js"],"names":["axios","FETCH_BY_PLAYERNAME_REQUESTED","FETCH_BY_PLAYERNAME_SUCCESS","FETCH_BY_PLAYERNAME_FAILURE","fetchByUsername","username","callback","dispatch","type","get","response","payload","data","entries","getProfile","platform","window","responseProfiles","profile","filter","length","Error","uid","responseProfile"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,SACEC,6BADF,EAEEC,2BAFF,EAGEC,2BAHF;AAMA,OAAO,IAAMC,eAAe,GAAG,SAAlBA,eAAkB,CAACC,QAAD,EAAWC,QAAX,EAAwB;AACrD;AAAA;AAAA;AAAA;AAAA;AAAA,+BAAO,iBAAMC,QAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AACLA,gBAAAA,QAAQ,CAAC;AAAEC,kBAAAA,IAAI,EAAEP;AAAR,iBAAD,CAAR;AADK;AAAA;AAAA,uBAGoBD,KAAK,CAACS,GAAN,sFACyDJ,QADzD,EAHpB;;AAAA;AAGGK,gBAAAA,QAHH;AAMHH,gBAAAA,QAAQ,CAAC;AACPC,kBAAAA,IAAI,EAAEN,2BADC;AAEPS,kBAAAA,OAAO,EAAED,QAAQ,CAACE,IAAT,CAAcC;AAFhB,iBAAD,CAAR;AANG;AAAA;;AAAA;AAAA;AAAA;AAWHN,gBAAAA,QAAQ,CAAC;AACPC,kBAAAA,IAAI,EAAEL,2BADC;AAEPQ,kBAAAA,OAAO;AAFA,iBAAD,CAAR;;AAXG;AAgBLL,gBAAAA,QAAQ;;AAhBH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAP;;AAAA;AAAA;AAAA;AAAA;AAAA;AAkBD,CAnBM;AAqBP,OAAO,IAAMQ,UAAU;AAAA;AAAA;AAAA;AAAA;AAAA,2BAAG,kBACxBT,QADwB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAExBU,YAAAA,QAFwB,8DAEb,IAFa;AAGxBC,YAAAA,MAHwB,8DAGf,SAHe;AAAA;AAAA,mBAKOhB,KAAK,CAACS,GAAN,sFACiDJ,QADjD,EALP;;AAAA;AAKlBY,YAAAA,gBALkB;AASlBC,YAAAA,OATkB,GASRD,gBAAgB,CAACL,IAAjB,CAAsBC,OAAtB,CAA8BM,MAA9B,CACd,UAAAD,OAAO;AAAA,qBAAIA,OAAO,CAACb,QAAR,KAAqBA,QAAzB;AAAA,aADO,CATQ;;AAAA,gBAanBa,OAAO,CAACE,MAbW;AAAA;AAAA;AAAA;;AAAA,8CAaI,IAAIC,KAAJ,EAbJ;;AAAA;AAehBC,YAAAA,GAfgB,GAeRJ,OAAO,CAAC,CAAD,CAfC,CAehBI,GAfgB;AAAA;AAAA,mBAgBMtB,KAAK,CAACS,GAAN,8FAC0Da,GAD1D,uBAC0EP,QAD1E,qBAC6FC,MAD7F,EAhBN;;AAAA;AAgBlBO,YAAAA,eAhBkB;AAAA,8CAmBjBA,eAAe,CAACX,IAnBC;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAAVE,UAAU;AAAA;AAAA;AAAA,GAAhB","sourcesContent":["import axios from \"axios\";\n\nimport {\n  FETCH_BY_PLAYERNAME_REQUESTED,\n  FETCH_BY_PLAYERNAME_SUCCESS,\n  FETCH_BY_PLAYERNAME_FAILURE\n} from \"./constants\";\n\nexport const fetchByUsername = (username, callback) => {\n  return async dispatch => {\n    dispatch({ type: FETCH_BY_PLAYERNAME_REQUESTED });\n    try {\n      const response = await axios.get(\n        `https://fortnite-public-api.theapinetwork.com/prod09/users/search?username=${username}`\n      );\n      dispatch({\n        type: FETCH_BY_PLAYERNAME_SUCCESS,\n        payload: response.data.entries\n      });\n    } catch (error) {\n      dispatch({\n        type: FETCH_BY_PLAYERNAME_FAILURE,\n        payload: error\n      });\n    }\n    callback();\n  };\n};\n\nexport const getProfile = async (\n  username,\n  platform = \"pc\",\n  window = \"season7\"\n) => {\n  const responseProfiles = await axios.get(\n    `https://fortnite-public-api.theapinetwork.com/prod09/users/search?username=${username}`\n  );\n\n  const profile = responseProfiles.data.entries.filter(\n    profile => profile.username === username\n  );\n\n  if (!profile.length) return new Error();\n\n  const { uid } = profile[0];\n  const responseProfile = await axios.get(\n    `https://fortnite-public-api.theapinetwork.com/prod09/users/public/br_stats?user_id=${uid}&platform=${platform}&window=${window}`\n  );\n  return responseProfile.data;\n};\n"]},"metadata":{},"sourceType":"module"}