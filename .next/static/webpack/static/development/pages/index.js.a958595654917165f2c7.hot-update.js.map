{"version":3,"file":"static/webpack/static/development/pages/index.js.a958595654917165f2c7.hot-update.js","sources":["webpack:///./src/actions/index.js"],"sourcesContent":["import axios from 'axios';\n\nimport {\n    FETCH_BY_PLAYERNAME_REQUESTED,\n    FETCH_BY_PLAYERNAME_SUCCESS,\n    FETCH_BY_PLAYERNAME_FAILURE\n} from './constants';\n\nexport const fetchByUsername = (username, callback) => {\n    return async dispatch => {\n        dispatch({ type: FETCH_BY_PLAYERNAME_REQUESTED });\n        try {\n            const response = await axios.get(\n                `https://fortnite-public-api.theapinetwork.com/prod09/users/search`,\n                { params: { username: username } }\n            );\n            dispatch({\n                type: FETCH_BY_PLAYERNAME_SUCCESS,\n                payload: response.data.entries\n            });\n        } catch (error) {\n            dispatch({\n                type: FETCH_BY_PLAYERNAME_FAILURE,\n                payload: error\n            });\n        }\n        callback();\n    };\n};\n\nexport const getUsers = async (username, callback) => {\n    const response = await axios.get(\n        `https://fortnite-public-api.theapinetwork.com/prod09/users/search`,\n        { params: { username: username } }\n    );\n    callback();\n    return response.data.entries;\n};\n\nexport const getProfile = async (username, platform = 'pc', window = 'season7') => {\n    let response = await axios.get(\n        'https://fortnite-public-api.theapinetwork.com/prod09/users/id',\n        { params: { username: username } }\n    );\n\n    // let response = await axios.get(\n    //     `https://fortnite-public-api.theapinetwork.com/prod09/users/search`,\n    //     { params: { username: username } }\n    // );\n    // let profile = response.data.entries.filter(profile => profile.username === username);\n\n    // if (!profile.length) return new Error();\n\n    const { uid } = response.data;\n\n    // const { uid } = profile[0];\n    response = await axios.get(\n        `https://fortnite-public-api.theapinetwork.com/prod09/users/public/br_stats`,\n        {\n            params: {\n                user_id: uid,\n                platform: platform,\n                window: window\n            }\n        }\n    );\n    const profile = response.data;\n\n    return profile;\n};\n\nexport const getNews = async (language = 'en') => {\n    let response = await axios.get(\n        'https://fortnite-public-api.theapinetwork.com/prod09/br_motd/get',\n        {\n            params: { language: language }\n        }\n    );\n\n    return response.data;\n};\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAAA;AAEA;AAMA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AADA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AACA;AANA;AAGA;AAIA;AACA;AACA;AAFA;AAPA;AAAA;AACA;AADA;AAAA;AAAA;AAYA;AACA;AACA;AAFA;AACA;AAbA;AAiBA;AACA;AAlBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAmBA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AACA;AAJA;AACA;AAIA;AALA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AASA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AACA;AAJA;AACA;AAKA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AAfA;AAAA;AAoBA;AACA;AACA;AACA;AAHA;AADA;AACA;AApBA;AAiBA;AAUA;AA3BA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAgCA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AADA;AACA;AAJA;AACA;AADA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;;;;A","sourceRoot":""}