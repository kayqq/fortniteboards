{"version":3,"file":"static/webpack/static/development/pages/leaderboard.js.3b02f647ccf49d66ac92.hot-update.js","sources":["webpack:///./src/components/SearchBar.js"],"sourcesContent":["import _ from 'lodash';\nimport React, { Component } from 'react';\nimport { Search, Label } from 'semantic-ui-react';\n\nconst resultRenderer = ({ uid, username }) => <Label key={uid} content={username} />;\n\nexport default class SearchBar extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            value: '',\n            isLoading: false\n        };\n    }\n\n    componentWillMount() {\n        this.resetComponent();\n    }\n\n    resetComponent = () => this.setState({ isLoading: false, value: '' });\n\n    handleResultSelect = async (e, { result }) => {\n        // checkDuplicateSelect prop given\n        if (this.props.checkDuplicateSelect) {\n            if (this.props.checkDuplicateSelect(result.username)) {\n                this.setState({ value: result.username, isLoading: true });\n                await this.props.handleResultSelect(result.username);\n                this.resetComponent();\n            }\n        } else {\n            // checkDuplicateSelect prop NOT given\n            this.setState({ value: result.username, isLoading: true });\n            await this.props.handleResultSelect(result.username);\n            this.resetComponent();\n        }\n    };\n\n    handleSearchChange = (e, { value }) => {\n        this.setState({ isLoading: true, value }, () => {\n            // reset loading if empty\n            if (this.state.value.length < 1) return this.resetComponent();\n\n            // fetch users by username\n            this.props.fetchByUsername(this.state.value, () => {\n                this.setState({ isLoading: false });\n                // prefetch first result\n                const { results } = this.props;\n                if (results.length) {\n                    const firstResult = results[0].username;\n                    if (this.props.prefetchRoute) this.props.prefetchRoute(firstResult);\n                }\n            });\n        });\n    };\n\n    render() {\n        const { isLoading, value } = this.state;\n        const { results } = this.props;\n        return (\n            <Search\n                input={{ fluid: true, icon: 'arrow circle right' }}\n                loading={isLoading}\n                placeholder={'Enter your Epic username'}\n                onResultSelect={this.handleResultSelect}\n                onSearchChange={_.debounce(this.handleSearchChange, 500, {\n                    leading: true\n                })}\n                results={results}\n                resultRenderer={resultRenderer}\n                value={value}\n                showNoResults={false}\n            />\n        );\n    }\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;;;;;AACA;AAAA;AACA;AADA;AACA;AAAA;AACA;AAFA;AAaA;AAAA;AAAA;AAAA;AAAA;AACA;AAdA;AAAA;AAAA;AAAA;AAAA;AAAA;AAeA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AAGA;AAAA;AAAA;AAAA;AACA;AALA;AAAA;AACA;AADA;AAMA;AACA;AAPA;AAAA;AAAA;AACA;AADA;AASA;AACA;AAAA;AAAA;AAAA;AACA;AAXA;AAAA;AACA;AADA;AAYA;AACA;AAbA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAhBA;AAAA;AAAA;AAAA;AACA;AADA;AA+BA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AACA;AACA;AAHA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA7CA;AACA;AACA;AAFA;AAHA;AAOA;AACA;;;AACA;AACA;AACA;;;AAsCA;AAAA;AAAA;AAAA;AAAA;AAGA;AAEA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;AAXA;AAcA;;;;AApEA;AACA;;;;;A","sourceRoot":""}