{"version":3,"file":"static/webpack/static/development/pages/leaderboard.js.fb3b7b880022132bdc48.hot-update.js","sources":["webpack:///./src/components/SearchBar.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Search, Grid, Icon } from 'semantic-ui-react';\nimport { getUsernames } from '../actions';\n\nimport { useDebounce } from '../hooks/useDebounce';\n\nconst resultRenderer = ({ uid, username, platform }) => {\n    let iconName = 'keyboard outline';\n    switch (platform) {\n        case 'ps4':\n            iconName = 'game';\n            break;\n        case 'nintendo':\n            iconName = 'game';\n            break;\n        default:\n            break;\n    }\n\n    return (\n        <Grid>\n            <Grid.Column width=\"13\">\n                <span key={uid} title={username}>\n                    {username}\n                </span>\n            </Grid.Column>\n            <Grid.Column textAlign=\"center\" width=\"3\" floated=\"right\">\n                {platform == 'pc' ? 'PC' : <Icon name={iconName} />}\n            </Grid.Column>\n        </Grid>\n    );\n};\n\nconst SearchBar = ({ handleResultSelect }) => {\n    const [searchTerm, setSearchTerm] = useState('');\n    const [results, setResults] = useState([]);\n    const [isSearching, setIsSearching] = useState(false);\n    const debouncedSearchTerm = useDebounce(searchTerm, 200);\n\n    async function fetch() {\n        const response = await getUsernames(debouncedSearchTerm);\n        const formattedResults = response.map((result, index) => {\n            result.key = index;\n            result.title = result.username;\n            return result;\n        });\n        setResults(formattedResults);\n        setIsSearching(false);\n    }\n\n    useEffect(() => {\n        if (debouncedSearchTerm) {\n            setIsSearching(true);\n            fetch();\n        } else {\n            resetComponent();\n        }\n    }, [debouncedSearchTerm]);\n\n    const resetComponent = () => {\n        setSearchTerm('');\n        setIsSearching(false);\n        setResults([]);\n    };\n\n    const onResultSelect = (e, { result }) => {\n        setSearchTerm(result.username);\n        handleResultSelect(result);\n        resetComponent();\n    };\n\n    const onSearchChange = (e, { value }) => {\n        if (!value.length) return resetComponent();\n        setIsSearching(true);\n        setSearchTerm(value);\n    };\n\n    return (\n        <Search\n            input={{ fluid: true, icon: 'arrow circle right' }}\n            loading={isSearching}\n            placeholder={'Enter an Epic username'}\n            onResultSelect={onResultSelect}\n            onSearchChange={onSearchChange}\n            results={results}\n            resultRenderer={resultRenderer}\n            value={searchTerm}\n            showNoResults={isSearching ? false : true}\n        />\n    );\n};\n\nexport default SearchBar;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AARA;AACA;AAUA;AAEA;AAAA;AACA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AACA;AAAA;AAIA;AACA;AACA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AAGA;AACA;AALA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AATA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AANA;AAAA;AACA;AAgBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AATA;AAYA;AACA;AACA;;;;A","sourceRoot":""}