{"version":3,"file":"static/webpack/static/development/pages/leaderboard.js.8f7931e44bbe0a5b56ab.hot-update.js","sources":["webpack:///./src/actions/index.js"],"sourcesContent":["import axios from 'axios';\n\nimport {\n    FETCH_BY_PLAYERNAME_REQUESTED,\n    FETCH_BY_PLAYERNAME_SUCCESS,\n    FETCH_BY_PLAYERNAME_FAILURE\n} from './constants';\n\nexport const fetchByUsername = (username, callback) => {\n    return async dispatch => {\n        dispatch({ type: FETCH_BY_PLAYERNAME_REQUESTED });\n        try {\n            const response = await axios.get(\n                `https://fortnite-public-api.theapinetwork.com/prod09/users/search?username=${username}`\n            );\n            dispatch({\n                type: FETCH_BY_PLAYERNAME_SUCCESS,\n                payload: response.data.entries\n            });\n        } catch (error) {\n            dispatch({\n                type: FETCH_BY_PLAYERNAME_FAILURE,\n                payload: error\n            });\n        }\n        callback();\n    };\n};\n\nexport const getProfile = async (username, platform = 'pc', window = 'season7') => {\n    let response = await axios.get(\n        `https://fortnite-public-api.theapinetwork.com/prod09/users/search?username=${username}`\n    );\n    let profile = response.data.entries.filter(profile => profile.username === username);\n\n    if (!profile.length) return new Error();\n\n    const { uid } = profile[0];\n    response = await axios.get(\n        `https://fortnite-public-api.theapinetwork.com/prod09/users/public/br_stats?user_id=${uid}&platform=${platform}&window=${window}`\n    );\n    profile = response.data.flat(1);\n\n    return response.data;\n};\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;AAAA;AAEA;AAMA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AADA;AAAA;AAAA;AACA;AADA;AAGA;AAGA;AACA;AACA;AAFA;AANA;AAAA;AACA;AADA;AAAA;AAAA;AAWA;AACA;AACA;AAFA;AACA;AAZA;AAgBA;AACA;AAjBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAkBA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AACA;AAGA;AAAA;AAAA;AACA;AALA;AAAA;AAAA;AAAA;AACA;AADA;AACA;AADA;AAQA;AARA;AAAA;AACA;AADA;AASA;AAGA;AAZA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;;;;A","sourceRoot":""}